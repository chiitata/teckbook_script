== YouTube APIキーの取得

本アプリケーションの根幹機能である動画検索を実現するために、YouTubeのデータを取得するためのAPIキーを取得します。APIの利用にはGoogleアカウントが必要です。

=== Google Cloud Platformプロジェクトの作成

YouTube APIは、Google Cloud Platform（GCP）というサービスを通じて提供されています。まずはGCPでプロジェクトを作成しましょう。

 1. [Google Cloud Platformコンソール](https://console.cloud.google.com/)にアクセスします。
 2. 画面上部のプロジェクト選択メニューから「新しいプロジェクト」をクリックします。
 3. プロジェクト名（例: `my-youtube-app-api`）を入力し、「作成」をクリックします。

=== YouTube Data API v3の有効化

次に、作成したプロジェクトでYouTube Data API v3を使えるように設定します。

 1. 左側のナビゲーションメニューから「APIとサービス」>「ライブラリ」を選択します。
 2. 検索ボックスに「YouTube Data API v3」と入力し、検索結果をクリックします。
 3. 「有効にする」ボタンをクリックします。

#image[gcp-enable-api][APIの有効化画面]{}

=== APIキーの作成

APIを有効化できたら、APIを呼び出すための「認証情報」としてAPIキーを作成します。

 1. 「APIとサービス」>「認証情報」ページに移動します。
 2. 画面上部の「認証情報を作成」をクリックし、「APIキー」を選択します。
 3. APIキーが作成され、ポップアップで表示されます。このキーをコピーし、安全な場所に控えておいてください。これがYouTube APIを利用するために必要なキーとなります。

#image[gcp-api-key][APIキーの作成画面]{}

=== APIキーの制限（推奨）

作成したAPIキーは、誰でもYouTube APIにアクセスできてしまうため、セキュリティのために利用を制限することが強く推奨されます。本書ではアプリケーションをローカル環境で開発するため、ローカルホストからのアクセスのみを許可するように設定します。

 1. 「認証情報」ページで、作成したAPIキーの名前をクリックします。
 2. 「キーを制限」セクションで、「HTTPリファラー（ウェブサイト）」を選択します。
 3. 「ウェブサイトの制限」で「追加」をクリックし、`http://localhost:3000/*` を入力します。
 4. 「保存」をクリックします。

これにより、作成したAPIキーは `localhost:3000` からのアクセスでしか利用できなくなり、第三者による不正利用を防ぐことができます。

これで、SupabaseとYouTube API、両方のキーが手に入りました。次のセクションで、これらのキーをNext.jsプロジェクトに安全に設定します。
