== Vercelへのデプロイ

GitHubにソースコードをプッシュできたら、いよいよデプロイです。本書では、Next.jsの開発元であるVercel社が提供するホスティングプラットフォーム「Vercel」を利用します。VercelはNext.jsに最適化されており、GitHubリポジトリと連携するだけで、驚くほど簡単にデプロイが完了します。

=== Vercelへのサインアップ

まずはVercelの公式サイトにアクセスし、アカウントを登録します。

 * https://vercel.com/

GitHubアカウントでサインアップするのが最もスムーズです。「Continue with GitHub」を選択し、画面の指示に従ってGitHubアカウントとVercelを連携させてください。

=== プロジェクトのインポート

Vercelのダッシュボードにログインしたら、GitHubリポジトリからプロジェクトをインポートします。

 1. ダッシュボードで「Add New...」>「Project」を選択します。
 2. 「Import Git Repository」のセクションに、あなたのGitHubリポジトリの一覧が表示されます。先ほど作成した`my-youtube-app`リポジトリの右側にある「Import」ボタンをクリックします。
    （リポジトリが表示されない場合は、VercelにGitHubリポジトリへのアクセス権を付与する必要があります）

#image[vercel-import-project][Vercelのプロジェクトインポート画面]{
#}

=== プロジェクトの設定とデプロイ

プロジェクトをインポートすると、設定画面が表示されます。VercelはNext.jsプロジェクトであることを自動的に検出し、最適なビルド設定を自動で構成してくれます。そのため、ほとんど設定を変更する必要はありません。

ただし、アプリケーションが動作するために必要な**環境変数**は、ここで設定する必要があります。

 1. 「Environment Variables」のセクションを開きます。
 2. ローカルの`.env.local`ファイルに設定した3つの環境変数を、一つずつ登録します。
    * `NEXT_PUBLIC_SUPABASE_URL`
    * `NEXT_PUBLIC_SUPABASE_ANON_KEY`
    * `YOUTUBE_API_KEY`

    キー（名前）とバリュー（値）を正確に入力してください。これらの値は、SupabaseやGoogle Cloud Platformのダッシュボードから再度確認できます。

#image[vercel-env-vars][Vercelの環境変数設定画面]{
#}

 3. 全ての環境変数を設定したら、「Deploy」ボタンをクリックします。

デプロイが開始され、ビルドとデプロイの進捗状況がリアルタイムで表示されます。数分待つと、デプロイが完了します。

デプロイが成功すると、紙吹雪が舞うお祝いのアニメーションと共に、アプリケーションのスクリーンショットと公開URLが表示されます。「Visit」ボタンをクリックして、デプロイされたあなたのアプリケーションにアクセスしてみましょう。

ローカル環境で見ていたものと同じアプリケーションが、インターネット上のURLで表示されれば、デプロイは成功です。

Vercelの素晴らしい点は、これだけではありません。今後、GitHubリポジトリの`main`ブランチに新しいコミットをプッシュすると、Vercelはそれを自動的に検知し、アプリケーションを自動で再デプロイしてくれます。この仕組みをCI/CD（継続的インテグレーション/継続的デプロイメント）と呼びます。

次のセクションでは、デプロイ後の設定や動作確認について解説します。
